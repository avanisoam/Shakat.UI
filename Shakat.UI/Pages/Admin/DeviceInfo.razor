@page "/admin/deviceInfo/{Action?}/{Id:int?}"

<h3>Admin - DeviceInfo</h3>

@if (Id > 0)
{
    editItem = deviceInfoDtos.Single(i => i.DeviceInfoId == Id);
}

@if (deviceInfoDtos == null)
{
    <p><em>Loading...</em></p>
}

else if (Action == "Create")
{
    <h1>Create</h1>
    <hr />

    <div>
        <dl class="row">

            <dt class="col-sm-2">
                ServiceStatus
            </dt>
            <dd class="col-sm-12">
                <div class="form-group">
                    <input @bind="newDeviceInfoObject.ServiceStatus" />
                    <span asp-validation-for="Name" class="text-danger"></span>
                </div>
            </dd>
            <dt class="col-sm-2">
                Device Identifier
            </dt>
            <dd class="col-sm-12">
                <div class="form-group">
                    <input @bind="newDeviceInfoObject.DeviceIdentifier" />
                    <span asp-validation-for="Name" class="text-danger"></span>
                </div>
            </dd>
            <dt class="col-sm-2">
                Server Url
            </dt>
            <dd class="col-sm-12">
                <div class="form-group">
                    <input @bind="newDeviceInfoObject.ServerUrl" />
                    <span asp-validation-for="Name" class="text-danger"></span>
                </div>
            </dd>
            <dt class="col-sm-2">
                Location Accuracy
            </dt>
            <dd class="col-sm-12">
                <div class="form-group">
                    <input @bind="newDeviceInfoObject.LocationAccuracy" />
                    <span asp-validation-for="Name" class="text-danger"></span>
                </div>
            </dd>
            <dt class="col-sm-2">
                Frequency
            </dt>
            <dd class="col-sm-12">
                <div class="form-group">
                    <input @bind="newDeviceInfoObject.Frequency" />
                    <span asp-validation-for="Name" class="text-danger"></span>
                </div>
            </dd>
            <dt class="col-sm-2">
                Distance
            </dt>
            <dd class="col-sm-12">
                <div class="form-group">
                    <input @bind="newDeviceInfoObject.Distance" />
                    <span asp-validation-for="Name" class="text-danger"></span>
                </div>
            </dd>
            <dt class="col-sm-2">
                Angle
            </dt>
            <dd class="col-sm-12">
                <div class="form-group">
                    <input @bind="newDeviceInfoObject.Angle" />
                    <span asp-validation-for="Name" class="text-danger"></span>
                </div>
            </dd>
            <dt class="col-sm-2">
                OfflineBuffering
            </dt>
            <dd class="col-sm-12">
                <div class="form-group">
                    <input @bind="newDeviceInfoObject.OfflineBuffering" />
                    <span asp-validation-for="Name" class="text-danger"></span>
                </div>
            </dd>
        </dl>
        <button class="btn btn-success" @onclick="AddItem">Add</button>
    </div>

    <br />
    <div>
        <NavLink href="admin/deviceinfo">Back to List</NavLink>
    </div>
}

else if (Action == "Edit")
{
    <h1>Edit</h1>
    <hr />

    <div>
        <dl class="row">
            <dt class="col-sm-2">
                Id
            </dt>
            <dd class="col-sm-12">
                @editItem.DeviceInfoId
            </dd>
            <dt class="col-sm-2">
                ServiceStatus
            </dt>
            <dd class="col-sm-12">
                <div class="form-group">
                    <input @bind="editItem.ServiceStatus" />
                    <span asp-validation-for="Name" class="text-danger"></span>
                </div>
            </dd>
            <dt class="col-sm-2">
                Device Identifier
            </dt>
            <dd class="col-sm-12">
                <div class="form-group">
                    <input @bind="editItem.DeviceIdentifier" />
                    <span asp-validation-for="Name" class="text-danger"></span>
                </div>
            </dd>
            <dt class="col-sm-2">
                Server Url
            </dt>
            <dd class="col-sm-12">
                <div class="form-group">
                    <input @bind="editItem.ServerUrl" />
                    <span asp-validation-for="Name" class="text-danger"></span>
                </div>
            </dd>
            <dt class="col-sm-2">
                Location Accuracy
            </dt>
            <dd class="col-sm-12">
                <div class="form-group">
                    <input @bind="editItem.LocationAccuracy" />
                    <span asp-validation-for="Name" class="text-danger"></span>
                </div>
            </dd>
            <dt class="col-sm-2">
                Frequency
            </dt>
            <dd class="col-sm-12">
                <div class="form-group">
                    <input @bind="editItem.Frequency" />
                    <span asp-validation-for="Name" class="text-danger"></span>
                </div>
            </dd>
            <dt class="col-sm-2">
                Distance
            </dt>
            <dd class="col-sm-12">
                <div class="form-group">
                    <input @bind="editItem.Distance" />
                    <span asp-validation-for="Name" class="text-danger"></span>
                </div>
            </dd>
            <dt class="col-sm-2">
                Angle
            </dt>
            <dd class="col-sm-12">
                <div class="form-group">
                    <input @bind="editItem.Angle" />
                    <span asp-validation-for="Name" class="text-danger"></span>
                </div>
            </dd>
            <dt class="col-sm-2">
                Offline Buffering
            </dt>
            <dd class="col-sm-12">
                <div class="form-group">
                    <input @bind="editItem.OfflineBuffering" />
                    <span asp-validation-for="Name" class="text-danger"></span>
                </div>
            </dd>
        </dl>
        <div class="form-group">
            <button class="btn btn-primary" @onclick="UpdateItem">
                Save
            </button>
        </div>
    </div>

    <br />
    <div>
        <NavLink href="admin/deviceInfo">Back to List</NavLink>
    </div>
}

else if (Action == "Details")
{
    <h1>Details</h1>
    <hr />
    <br />
    <div>
        <dl class="row">
            <dt class="col-sm-2">
                Id
            </dt>
            <dd class="col-sm-10">
                @editItem.DeviceInfoId
            </dd>
            <dt class="col-sm-2">
                Service Status
            </dt>
            <dd class="col-sm-10">
                @editItem.ServiceStatus
            </dd>
             <dt class="col-sm-2">
                Device Identifier
            </dt>
            <dd class="col-sm-10">
                @editItem.DeviceIdentifier
            </dd>
             <dt class="col-sm-2">
                Server Url
            </dt>
            <dd class="col-sm-10">
                @editItem.ServerUrl
            </dd>
             <dt class="col-sm-2">
                Location Accuracy
            </dt>
            <dd class="col-sm-10">
                @editItem.LocationAccuracy
            </dd>
             <dt class="col-sm-2">
                Frequency
            </dt>
            <dd class="col-sm-10">
                @editItem.Frequency
            </dd>
             <dt class="col-sm-2">
                Distance
            </dt>
            <dd class="col-sm-10">
                @editItem.Distance
            </dd>
             <dt class="col-sm-2">
                Angle
            </dt>
            <dd class="col-sm-10">
                @editItem.Angle
            </dd>
            <dt class="col-sm-2">
                OfflineBuffering
            </dt>
            <dd class="col-sm-10">
                @editItem.OfflineBuffering
            </dd>
        </dl>
    </div>
    <div>
        <NavLink href="admin/deviceinfo">Back to List</NavLink>
    </div>
}

else if (Action == "Delete")
{
    <h1>Delete</h1>
    <hr />

    <h3>Are you sure you want to delete this?</h3>

    <div>
        <hr />
        <dl class="row">
           <dt class="col-sm-2">
                Id
            </dt>
            <dd class="col-sm-10">
                @editItem.DeviceInfoId
            </dd>
            <dt class="col-sm-2">
                Service Status
            </dt>
            <dd class="col-sm-10">
                @editItem.ServiceStatus
            </dd>
             <dt class="col-sm-2">
                Device Identifier
            </dt>
            <dd class="col-sm-10">
                @editItem.DeviceIdentifier
            </dd>
             <dt class="col-sm-2">
                Server Url
            </dt>
            <dd class="col-sm-10">
                @editItem.ServerUrl
            </dd>
             <dt class="col-sm-2">
                Location Accuracy
            </dt>
            <dd class="col-sm-10">
                @editItem.LocationAccuracy
            </dd>
             <dt class="col-sm-2">
                Frequency
            </dt>
            <dd class="col-sm-10">
                @editItem.Frequency
            </dd>
             <dt class="col-sm-2">
                Distance
            </dt>
            <dd class="col-sm-10">
                @editItem.Distance
            </dd>
             <dt class="col-sm-2">
                Angle
            </dt>
            <dd class="col-sm-10">
                @editItem.Angle
            </dd>
            <dt class="col-sm-2">
                OfflineBuffering
            </dt>
            <dd class="col-sm-10">
                @editItem.OfflineBuffering
            </dd>
        </dl>
    </div>
    <div>
        <button class="btn btn-danger"
            @onclick="@(async () => await DeleteItem(editItem.DeviceInfoId))">
            Delete
        </button>
    </div>

    <br />
    <div>
        <NavLink href="admin/deviceinfo">Back to List</NavLink>
    </div>
}

else
{
    <p>
        <NavLink href="admin/deviceinfo/Create">Create New</NavLink>
    </p>
    <table class="table">
        <thead>
            <tr>
                <th>DeviceInfoId</th>
                <th>Service Status</th>
                <th>DeviceIdentifier</th>
                <th>ServerUrl</th>
                <th>Location Accuracy</th>
                <th>Frequency</th>
                <th>Distance</th>
                <th>Angle</th>
                <th>OfflineBuffering</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in deviceInfoDtos)
            {
                <tr>
                    <td>@item.DeviceInfoId</td>
                    <td>@item.ServiceStatus</td>
                    <td>@item.DeviceIdentifier</td>
                    <td>@item.ServerUrl</td>
                    <td>@item.LocationAccuracy</td>
                    <td>@item.Frequency</td>
                    <td>@item.Distance</td>
                    <td>@item.Angle</td>
                    <td>@item.OfflineBuffering</td>
                    <td>
                        <NavLink href="@($"admin/deviceInfo/Edit/{item.DeviceInfoId}")">Edit</NavLink> |
                        <NavLink href="@($"admin/deviceInfo/Details/{item.DeviceInfoId}")">Details</NavLink> |
                        <NavLink href="@($"admin/deviceInfo/Delete/{item.DeviceInfoId}")">Delete</NavLink>
                    </td>
                </tr>
            }
        </tbody>
    </table>
}
@code {
    [Parameter]
    public string? Action { get; set; }

    [Parameter]
    public int? Id { get; set; }
}